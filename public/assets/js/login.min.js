/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!**************************************!*\
  !*** ./resources/assets/js/login.js ***!
  \**************************************/
var url = $("#url").val();
var loginAttempts = 0;
$(document).ready(function () {
  $("#login_btn").click(function (event) {
    $('#login_btn').prop('disabled', true);
    event.preventDefault();
    $('#Login_form').ajaxForm(function (result) {
      $('#login_btn').prop('disabled', false);
      if (result.flag == 0) {
        loginAttempts++;
        showToast(result.msg, 'danger');
        if (loginAttempts >= 3) {
          setTimeout(function () {
            window.location.reload();
          }, 3000);
        }
      } else {
        showToast(result.msg, 'success');
        $('#login_btn').prop('disabled', false);
        setTimeout(function () {
          window.location.href = "".concat(url, "/user/dashboard");
        }, 3000);
      }
    }).submit();
  });
  var urlParams = new URLSearchParams(window.location.search);
  var error = urlParams.get('error');
  if (error) {
    var errorMessageDiv = document.createElement('div');
    errorMessageDiv.className = 'error-message';
    errorMessageDiv.innerText = error;
    document.getElementById('Login_form').prepend(errorMessageDiv);
  }
});
/******/ })()
;